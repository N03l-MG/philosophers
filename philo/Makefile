################################################################################
#                                                                              #
#                                    MAKEFILE                                  #
# Project:     Philosophers                                                    #
# Created:     03/12/2024                                                      #
# Author:      Noel Monzon (nmonzon)                                           #
#                                                                              #
################################################################################


################################################################################
###############                     BUILD SETUP                  ###############
################################################################################

NAME = philo
CC = cc
FLAGS = -Wall -Wextra -Werror

################################################################################
###############                    SOURCE FILES                  ###############
################################################################################

SRCS = philo.c

OBJ = $(SRCS:.c=.o)

################################################################################
###############                 COMPILATION RULES                ###############
################################################################################

all: $(NAME)

$(NAME): $(OBJ)
	$(CC) $(FLAGS) -o $(NAME) $(OBJ) -lpthread

$(SRC_DIR)/%.o: $(SRC_DIR)/%.c
	@mkdir -p $(dir $@)
	$(CC) $(FLAGS) -c $< -o $@

clean:
	rm -f $(OBJ)

fclean: clean
	rm -f $(NAME)

re: fclean all

.PHONY: all clean fclean re